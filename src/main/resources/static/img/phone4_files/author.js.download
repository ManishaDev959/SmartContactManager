DT.onReady(()=>{const author=document.querySelector('.js-item-author');const thumb=author.querySelector('.js-item-author-thumb');DT.tooltip(thumb,{content:author.getAttribute('data-thumb-tooltip-txt'),});const info=author.querySelector('.js-item-author-info');const infoUsername=info.querySelector('.js-item-author-info-username');const copiedTooltipText=info.getAttribute('data-tooltip-copied-txt');const authorTooltipText=info.getAttribute('data-tooltip-txt');const authorUsernameTooltipText=info.getAttribute('data-tooltip-username-txt');const copyInfoToClipboard=async()=>{try{range=document.createRange();range.selectNode(info);window.getSelection().removeAllRanges(range);window.getSelection().addRange(range);document.execCommand('copy');window.getSelection().removeAllRanges()}catch(error){DT.log('error','Failed to copy share link to clipboard',error);return}
authorInfoTooltip.setContent(copiedTooltipText)};const authorInfoTooltip=DT.tooltip(info,{content:authorTooltipText,hooks:{onOriginClick:async(_,event)=>{if(event.target.closest('.js-item-author-info-username')===null){event.preventDefault()}
await copyInfoToClipboard()},},});infoUsername.addEventListener('pointerenter',()=>{authorInfoTooltip.setContent(authorUsernameTooltipText)});infoUsername.addEventListener('pointerleave',()=>{authorInfoTooltip.setContent(authorTooltipText)})})